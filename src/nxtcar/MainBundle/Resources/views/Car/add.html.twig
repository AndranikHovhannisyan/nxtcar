{% extends 'nxtcarMainBundle:Dashboard:profileBase.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset("bundles/nxtcarmain/css/car_add.css") }}">
{% endblock %}

{% block AngularController %}ng-controller="CarController"{% endblock %}

{% block sub_content %}

    <div ng-cloak>
        <div>
            <h3 class="user-profil-header">Your car</h3>
        </div>
        <div class="user-profil-content">

            <form class="form-horizontal" role="form" action="#" method="POST">

                <div class="form-group">
                    <label for="gender" class="col-sm-3 control-label gender">Make</label>
                    <div class="col-sm-4">
                        {% if brandId is not null %}
                            {{ form_widget(form.carBrand, {'attr': {'class': "form-control",'ng-model':'carBrand','ng-init':'carBrand=' ~ brandId } }) }}
                        {% else %}
                            {{ form_widget(form.carBrand, {'attr': {'class': "form-control",'ng-model':'carBrand'} }) }}
                        {% endif %}
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label">Model</label>
                    <div class="col-sm-4">
                        <select name="{{ form.model.vars.full_name }}"
                                id="{{ form.model.vars.id }}"
                                class="form-control" ng-model="model"
                                {% if form.model.vars.value is not null and form.model.vars.value != "" %}
                                    data-ng-init="model={{ form.model.vars.value }}"
                                {% endif %}>
                            <option data-ng-repeat="model in models" value="[[ model.id ]]" data-ng-bind="model.title"></option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label  class="col-sm-3 control-label">Comfort</label>
                    <div class="col-sm-4">
                        {{ form_widget(form.comfort, {'attr': {'class': "form-control", 'id': "inputLastname"} }) }}
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-3 control-label">Number of seats</label>
                    <div class="col-sm-2">
                        {{ form_widget(form.numberOfSets, {'attr': {'class': "form-control"} }) }}
                    </div>
                    <p class="including_driver">(including driver)</p>
                </div>

                <div class="form-group">
                    <label class="col-sm-3 control-label">Colour</label>
                    <div class="col-sm-4">
                        {{ form_widget(form.color, {'attr': {'class': "form-control"} }) }}
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-3 control-label">Type</label>
                    <div class="col-sm-4">
                        {{ form_widget(form.type, {'attr': {'class': "form-control"} }) }}
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-sm-offset-3 col-sm-10">
                        <input type="submit" class="submit btn btn-default" value="Save">
                    </div>
                </div>
                {{ form_widget(form._token) }}
            </form>
        </div>
    </div>

{% endblock %}

{% block javascripts %}
    <script type="text/javascript" src="{{ asset("/bundles/nxtcarmain/js/require/carRunner.js") }}"></script>
{% endblock %}